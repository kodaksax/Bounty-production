# ===========================================
# Stripe Configuration
# ===========================================
# Get these from your Stripe Dashboard: https://dashboard.stripe.com/apikeys

# For DEVELOPMENT/TESTING (test mode):
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...

# For PRODUCTION (live mode):
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_PUBLISHABLE_KEY=pk_live_...

# IMPORTANT: Never commit live keys to version control!
# Use environment variables or a secrets manager in production.
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Webhook Secret
# Create a webhook endpoint and get this secret from: https://dashboard.stripe.com/webhooks
# For local development, use Stripe CLI: stripe listen --forward-to localhost:3001/webhooks/stripe
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ===========================================
# Supabase Configuration
# ===========================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ===========================================
# Server Configuration
# ===========================================
PORT=3001
NODE_ENV=development
# Set to 'production' for production deployments

# Application URL (for Connect return URLs)
# In production, use your actual domain
APP_URL=https://app.bountyfinder.app

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated allowed origins
# In production, restrict to your actual domains
ALLOWED_ORIGINS=http://localhost:8081,http://localhost:19000,http://localhost:19006

# ===========================================
# Production Checklist
# ===========================================
# Before deploying to production:
# 1. Switch to live Stripe keys (sk_live_*, pk_live_*)
# 2. Create a production webhook endpoint in Stripe Dashboard
# 3. Configure Stripe Connect for your platform
# 4. Set up proper rate limiting and monitoring
# 5. Enable HTTPS (REQUIRED - HTTP requests will be rejected in production)
#    - Option A: Use a reverse proxy (nginx, Apache, Cloudflare) with HTTPS
#    - Option B: Configure direct HTTPS with SSL certificates
# 6. Configure proper CORS origins
# 7. Set NODE_ENV=production
#
# SECURITY NOTE:
# When NODE_ENV=production, the server will:
# - Reject all HTTP requests with 403 Forbidden
# - Enforce HTTPS connections only
# - Add HSTS header (Strict-Transport-Security)
# - Add security headers (X-Content-Type-Options, X-Frame-Options, X-XSS-Protection)
# - Support reverse proxy detection via X-Forwarded-Proto header
