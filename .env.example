# ===========================================
# BountyExpo Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values

# -----------------------------------------
# Database Configuration
# -----------------------------------------
# PostgreSQL connection string for main database
DATABASE_URL="postgresql://bountyexpo:bountyexpo123@localhost:5432/bountyexpo"

# -----------------------------------------
# Supabase Configuration (for Auth & RLS)
# -----------------------------------------
# === BACKEND (Server-Side) Configuration ===
# These are used ONLY by the backend API server (api/server.js)
# NEVER expose service role key to client!
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"  # Backend only!
SUPABASE_JWT_SECRET="your-jwt-secret"

# === CLIENT (Mobile App) Configuration ===
# These MUST have EXPO_PUBLIC_ prefix to be accessible in the mobile app
# Used for direct client-side authentication and Supabase operations
# ⚠️ SECURITY: Only use the ANON key here, NEVER the service role key!
EXPO_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
EXPO_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"  # Client-safe public key

# -----------------------------------------
# Stripe Configuration
# -----------------------------------------
# Stripe secret key (server-side, starts with sk_)
# For PRODUCTION: Use sk_live_... (live mode keys)
# For DEVELOPMENT: Use sk_test_... (test mode keys)
# IMPORTANT: Never commit live keys to version control!
STRIPE_SECRET_KEY="sk_test_..."

# Stripe publishable key (client-side, starts with pk_)
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe webhook endpoint secret for payment events
# Create webhook at: https://dashboard.stripe.com/webhooks
# For local development: stripe listen --forward-to localhost:3001/webhooks/stripe
STRIPE_WEBHOOK_SECRET="whsec_..."

# -----------------------------------------
# API Server Configuration
# -----------------------------------------
# Port for the BountyExpo API server (backend)
API_PORT=3001
PORT=3001
# Host binding (0.0.0.0 for Docker, localhost for local dev)
HOST=0.0.0.0
# Environment (development, production, test)
NODE_ENV=development

# -----------------------------------------
# Core API Configuration
# -----------------------------------------
# Base URL for API calls from the client (mobile app)
# Development: Use your local IP or localhost
# Production: Use your production API domain
EXPO_PUBLIC_API_BASE_URL="http://localhost:3001"
# Legacy variable name (some parts may still reference this)
API_BASE_URL="http://localhost:3001"
# Request timeout in milliseconds
API_TIMEOUT=30000

# -----------------------------------------
# JWT Configuration
# -----------------------------------------
# Secret key for signing JWT tokens
JWT_SECRET="your-jwt-secret-key-should-be-long-and-random"
# Token expiration time
JWT_EXPIRES_IN="1h"
# Refresh token expiration
REFRESH_TOKEN_EXPIRES_IN="7d"

# -----------------------------------------
# React Native / Expo Configuration
# -----------------------------------------
# Public API URL (accessible from mobile app)
# Note: This is now superseded by EXPO_PUBLIC_API_BASE_URL above
# Kept for backward compatibility
EXPO_PUBLIC_API_URL="http://localhost:3001"
# Public Stripe key (for mobile payments)
EXPO_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# -----------------------------------------
# Development Tools (Optional)
# -----------------------------------------
# Enable development features
DEBUG=true
# Log level (error, warn, info, debug)
LOG_LEVEL="debug"

# -----------------------------------------
# Analytics & Monitoring Configuration
# -----------------------------------------
# Mixpanel project token for analytics
MIXPANEL_TOKEN="YOUR_MIXPANEL_TOKEN"
EXPO_PUBLIC_MIXPANEL_TOKEN="YOUR_MIXPANEL_TOKEN"

# Sentry DSN for error tracking
SENTRY_DSN="YOUR_SENTRY_DSN"
EXPO_PUBLIC_SENTRY_DSN="YOUR_SENTRY_DSN"

# Enable Sentry debug mode in development (optional)
# EXPO_PUBLIC_SENTRY_DEBUG=true
# SENTRY_DEBUG=true

# -----------------------------------------
# Google Places API Configuration
# -----------------------------------------
# Google Places API key for address autocomplete
# Get your API key at: https://console.cloud.google.com/google/maps-apis
# Required APIs: Places API, Geocoding API
# IMPORTANT: Restrict this key to specific platforms/IPs in production
EXPO_PUBLIC_GOOGLE_PLACES_API_KEY="your-google-places-api-key"